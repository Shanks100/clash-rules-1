{"name":"geo-test","displayName":"落地检测","form":"","mergeSources":"","ignoreFailedRemoteSub":true,"icon":"https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Lab.png","process":[{"type":"Quick Setting Operator","args":{"useless":"DISABLED","udp":"ENABLED","scert":"ENABLED","tfo":"ENABLED","vmess aead":"DEFAULT"}},{"type":"Regex Filter","args":{"keep":false,"regex":["^(#|\\/\\/)"]},"id":"53433073.30347516"},{"type":"Resolve Domain Operator","args":{"provider":"Google","type":"IPv4","filter":"disabled","cache":"enabled"},"id":"40233010.57528247"},{"type":"Resolve Domain Operator","args":{"provider":"Cloudflare","type":"IPv6","filter":"IPOnly","cache":"enabled"},"id":"26345051.98838817"},{"type":"Script Operator","args":{"content":"function operator(proxies = []) {\n    function removeDuplicates(arr, fields) {\n        const map = new Map()\n        return arr.filter(item => {\n            const key = fields.map(field => item[field]).join('-')\n            if (map.has(key)) {\n                return false\n            } else {\n                map.set(key, true)\n                return true\n            }\n        })\n    }\n    return removeDuplicates(proxies, ['server', 'port', 'type'])\n}\n","mode":"script"},"id":"95704959.8891461"},{"type":"Script Operator","args":{"content":"https://raw.githubusercontent.com/xream/scripts/main/surge/modules/sub-store-scripts/check/http_meta_geo.js#geo&cache&format=<{{api.country}}> {{api.asOrganization || 'Sector 2814' }} [{{proxy.type}}]&api=https://speed.cloudflare.com/meta&timeout=1999&retries=1","mode":"link"},"id":"81096408.2142662"},{"type":"Script Filter","args":{"content":"return $server._geo","mode":"script"},"id":"85967912.58760595"},{"type":"Flag Operator","args":{"mode":"add","tw":"ws"},"id":"48034400.69031853"},{"type":"Script Operator","args":{"content":"delete $server._geo\n$server.name = $server.name.replace(/(\\s*)\\<.*?\\>\\s*/gi, '$1')","mode":"script"},"id":"93023814.22544846"},{"type":"Sort Operator","args":"asc","id":"55153448.81042581"},{"type":"Handle Duplicate Operator","args":{"action":"rename","position":"back","template":"⁰ ¹ ² ³ ⁴ ⁵ ⁶ ⁷ ⁸ ⁹","link":""},"id":"84882948.57123472"}],"source":"local","url":"","content":"","ua":"","tag":["检测"],"display-name":"落地检测"}